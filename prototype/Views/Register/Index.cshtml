@{
    ViewData["Title"] = "- Register";
}

<div class="container" id="main-container">
    <div id="content-form" class="p-5 mt-3">
        <div>
            <ul class="progressbar">
                <li class="active"><a style="color:black;">Basic Information</a></li>
                <li><a style="color:black;">Personal Information</a></li>
                <li><a style="color:black;">Educational Attainment</a></li>
                <li><a style="color:black;">Family Background</a></li>
                <li><a style="color:black;">In Case Of Emegency</a></li>
            </ul>
        </div>

        <h1 class="mt-3">Basic Information</h1>
        <hr class="divider" />

        <form asp-action="Index" method="post">
            <div class="d-flex gap-5">
                <div class="d-flex flex-column step1">
                    <label for="application_date" class="fw-bold">Application Date</label>
                    <input type="date" name="APPLICATION_DATE" id="application_date" class="form-control" required disabled/>
                </div>
                <div class="d-flex flex-column step1">
                    <label for="lrn" class="fw-bold">LRN</label>
                    <input type="number" name="LRN" id="lrn" class="form-control" required />
                </div>
                <div class="d-flex flex-column step1">
                    <label for="BI_STUDENT_ACC_ID" class="fw-bold">Student Number</label>
                    <input type="text" name="BI_STUDENT_ACC_ID" id="BI_STUDENT_ACC_ID" class="form-control" required />
                </div>
            </div>

            <hr class="divider">
            <p class="fw-bold">Applying as (Choose appropriate answer)</p>
            <input type="radio" name="APPLYING_AS" id="applyingAs3" value="Senior High School Graduate" onclick="toggleTrackStrand(true)">
            <label for="applyingAs3" class="ms-1"> Senior High School Graduate</label>
            <label for="track" class="fw-bold" style="padding-left: 70px;">Track:</label>
            <select class="form-select d-inline-block" id="track" name="TRACK" style="width: 350px;" disabled onchange="updateStrandOptions()">
                <option value="Academic" selected>Academic</option>
                <option value="Technical-Vocational-Livelihood">Technical-Vocational-Livelihood</option>
            </select>

            <label for="strand" class="fw-bold">Strand:</label>
            <select class="form-select d-inline-block" id="strand" name="STRAND" style="width: 200px;" disabled>
                <option value="GA" selected>Academic (GA)</option>
                <option value="HUMSS">Humanities and Social Sciences (HUMSS)</option>
                <option value="STEM">Science, Technology, Engineering and Mathematics (STEM)</option>
                <option value="ABM">Accountancy, Business and Management (ABM)</option>
            </select>
            <div class="input-group gap-1">
                <input type="radio" name="APPLYING_AS" id="applyingAs4" value="High School Graduate" onclick="toggleTrackStrand(false)">
                <label for="applyingAs4"> High School Graduate (Year 2015 and below)</label>
            </div>
            <input type="radio" name="APPLYING_AS" id="applyingAs2" value="Transferee" onclick="toggleTrackStrand(false)">
            <label for="applyingAs2" class="ms-1">Transferee</label>
            <br>
            <label for="accreditation" style="padding-right: 20px;">Applying for Accreditation of Subjects?</label>
            <select class="form-select d-inline-block" id="accreditation" name="ACCREDITATION_OF_SUBJECTS" style="width: 120px;"  required
                    oninvalid="setCustomValidity('Please Select!.'); setInvalidBackground(this)"
                    oninput="setCustomValidity(''); setValidBackground(this)">
                <option disabled>Yes/No</option>
                <option value="Yes">Yes</option>
                <option selected value="No">No</option>
            </select>
            <div class="input-group gap-1">
                <input type="radio" name="APPLYING_AS" id="applyingAs1" value="2nd Degree Course Taker" onclick="toggleTrackStrand(false)">
                <label for="applyingAs1" class="ms-1">2nd Degree Course Taker (Graduate of Bachelor’s Degree)</label>
            </div>
            <hr class="divider">

    <div class="d-flex gap-5">
        <div>
    <p class="fw-bold">Preferred Course</p>
    <div class="row row-cols-2 courseWidth d-flex align-items-baseline">
        <div class="col mb-4 choice">First Choice</div>
        <select class="form-select d-inline-block course" id="PREFERRED_COURSE1" name="PREFERRED_COURSE1"  required oninvalid="setCustomValidity('Select Course.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected >Select Program</option>
            <option value="Bachelor of Early Childhood Education">Bachelor of Early Childhood Education</option>
            <option value="Bachelor of Science in Accountancy">Bachelor of Science in Accountancy</option>
            <option value="Bachelor of Science in Computer Science">Bachelor of Science in Computer Science</option>
            <option value="Bachelor of Science in Electronics Engineering">Bachelor of Science in Electronics Engineering</option>
            <option value="Bachelor of Science in Entrepreneurship">Bachelor of Science in Entrepreneurship</option>
            <option value="Bachelor of Science in Information Systems">Bachelor of Science in Information Systems</option>
            <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
            <option value="Bachelor of Science in Management Accounting">Bachelor of Science in Management Accounting</option>
        </select>
        <div class="col mb-4 choice">Second Choice</div>
        <select class="form-select d-inline-block course" id="PREFERRED_COURSE2" name="PREFERRED_COURSE2"  required oninvalid="setCustomValidity('Select Course.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected >Select Program</option>
            <option value="Bachelor of Early Childhood Education">Bachelor of Early Childhood Education</option>
            <option value="Bachelor of Science in Accountancy">Bachelor of Science in Accountancy</option>
            <option value="Bachelor of Science in Computer Science">Bachelor of Science in Computer Science</option>
            <option value="Bachelor of Science in Electronics Engineering">Bachelor of Science in Electronics Engineering</option>
            <option value="Bachelor of Science in Entrepreneurship">Bachelor of Science in Entrepreneurship</option>
            <option value="Bachelor of Science in Information Systems">Bachelor of Science in Information Systems</option>
            <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
            <option value="Bachelor of Science in Management Accounting">Bachelor of Science in Management Accounting</option>
        </select>
        <div class="col mb-4 choice">Third Choice</div>
        <select class="form-select d-inline-block course" id="PREFERRED_COURSE3" name="PREFERRED_COURSE3"  required oninvalid="setCustomValidity('Select Course.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected >Select Program</option>
            <option value="Bachelor of Early Childhood Education">Bachelor of Early Childhood Education</option>
            <option value="Bachelor of Science in Accountancy">Bachelor of Science in Accountancy</option>
            <option value="Bachelor of Science in Computer Science">Bachelor of Science in Computer Science</option>
            <option value="Bachelor of Science in Electronics Engineering">Bachelor of Science in Electronics Engineering</option>
            <option value="Bachelor of Science in Entrepreneurship">Bachelor of Science in Entrepreneurship</option>
            <option value="Bachelor of Science in Information Systems">Bachelor of Science in Information Systems</option>
            <option value="Bachelor of Science in Information Technology">Bachelor of Science in Information Technology</option>
            <option value="Bachelor of Science in Management Accounting">Bachelor of Science in Management Accounting</option>
        </select>
        <div class="col mb-4 choice">Currently Enrolled?</div>
                        <select class="form-select d-inline-block course" id="CURRENTLY_ENROLLED" name="CURRENTLY_ENROLLED"  required oninvalid="setCustomValidity('Select Choice.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option selected disabled>Select Yes/No</option>
            <option value="Yes">Yes</option>
            <option value="No">No</option>
        </select>
    </div>
    <label for="nameOfSchool" class="fw-bold">Name of School</label>
                    <input type="text" name="NAME_OF_SCHOOL" id="NAME_OF_SCHOOL" placeholder="Enter your school name" class="form-control" style="border: 1px solid #ccc;"
            oninvalid="setCustomValidity('Drop your School Name.'); setInvalidBackground(this)"
            oninput="setCustomValidity(''); setValidBackground(this)">

</div>
        <div>
    <p class="fw-bold">Preferred Campus</p>
    <div class="row row-cols-2 courseWidth d-flex align-items-baseline">
        <div class="col mb-4">First Choice</div>
        <select class="form-select d-inline-block campus" id="PREFERRED_CAMPUS1" name="PREFERRED_CAMPUS1" style="width:180px"  required oninvalid="setCustomValidity('Select Campus.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected>Select Campus</option>
            <option value="San Bartolome">San Bartolome</option>
            <option value="San Francisco">San Francisco</option>
            <option value="Batasan">Batasan</option>
        </select>
        <div class="col mb-4">Second Choice</div>
        <select class="form-select d-inline-block campus" id="PREFERRED_CAMPUS2" name="PREFERRED_CAMPUS2" style="width:180px"  required oninvalid="setCustomValidity('Select Campus.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected >Select Campus</option>
            <option value="San Bartolome">San Bartolome</option>
            <option value="San Francisco">San Francisco</option>
            <option value="Batasan">Batasan</option>
        </select>
        <div class="col mb-4">Third Choice</div>
        <select class="form-select d-inline-block campus" id="PREFERRED_CAMPUS3" name="PREFERRED_CAMPUS3" style="width:180px" onchange="nextPage()"  required oninvalid="setCustomValidity('Select Campus.'); setInvalidBackground(this)"
                oninput="setCustomValidity(''); setValidBackground(this)">
            <option value="" selected>Select Campus</option>
            <option value="San Bartolome">San Bartolome</option>
            <option value="San Francisco">San Francisco</option>
            <option value="Batasan">Batasan</option>
        </select>
    </div>
</div>
    </div>

    <p class="text-end mt-4 mb-0">
                <button class="btn next text-white" type="submit" formnovalidate>Next <i class="fa-solid fa-chevron-right"></i></button>
    </p>
</form>
    </div>
</div>
<!-- Bootstrap Modal for Popup Guide -->
<div class="modal fade" id="popupGuideModal" tabindex="-1" aria-labelledby="popupGuideModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="popupGuideModalLabel">Welcome Guide</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                This is your guide to filling out the form. Follow each step carefully.
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Got it!</button>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        var myModal = new bootstrap.Modal(document.getElementById('popupGuideModal'), {
            backdrop: 'static', // Prevent closing by clicking outside the modal
            keyboard: false     // Prevent closing with the Esc key
        });
        myModal.show();
    });

</script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get today's date in YYYY-MM-DD format
        var today = new Date();
        var yyyy = today.getFullYear();
        var mm = String(today.getMonth() + 1).padStart(2, '0'); // Months are zero-based
        var dd = String(today.getDate()).padStart(2, '0');

        var formattedDate = yyyy + '-' + mm + '-' + dd;

        // Set the value of the APPLICATION_DATE input field
        var applicationDateField = document.getElementById('application_date');
        if (applicationDateField) {
            applicationDateField.value = formattedDate;
        }
    });
</script>
<script>

    document.addEventListener("DOMContentLoaded", function () {
    const courseSelectors = [
        document.getElementById("PREFERRED_COURSE1"),
        document.getElementById("PREFERRED_COURSE2"),
        document.getElementById("PREFERRED_COURSE3")
    ];

    const campusSelectors = [
        document.getElementById("PREFERRED_CAMPUS1"),
        document.getElementById("PREFERRED_CAMPUS2"),
        document.getElementById("PREFERRED_CAMPUS3")
    ];

    // Function to update options for a group of selectors
    function updateOptions(selectors) {
        let selectedValues = new Set([...selectors.map(sel => sel.value)]);

        selectors.forEach(selector => {
            let currentValue = selector.value;

            Array.from(selector.options).forEach(option => {
                if (option.value !== "" && selectedValues.has(option.value) && option.value !== currentValue) {
                    option.style.display = "none";
                } else {
                    option.style.display = "";
                }
            });
        });
    }

    // Attach event listeners to all course selectors
    courseSelectors.forEach(selector => {
        selector.addEventListener("change", () => updateOptions(courseSelectors));
    });

    // Attach event listeners to all campus selectors
    campusSelectors.forEach(selector => {
        selector.addEventListener("change", () => updateOptions(campusSelectors));
    });
});

</script>